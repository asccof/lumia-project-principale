{% extends "admin_base.html" %}
{% block title %}Classement des Professionnels · Admin Tighri{% endblock %}

{% block content %}
<div class="container-fluid py-3">
  <h1 class="h4 mb-3"><i class="fas fa-sort-amount-up-alt me-2"></i>Classement des Professionnels</h1>
  <p class="text-muted">Définissez l’ordre d’affichage des professionnels sur la page d’accueil. Plus la valeur est basse, plus le professionnel apparaîtra en haut de la liste.</p>

  <form method="post" action="{{ url_for('admin.admin_professional_order') }}">
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Nom</th>
            <th scope="col">Spécialité</th>
            <th scope="col" style="width:150px;">Ordre</th>
          </tr>
        </thead>
        <tbody>
          {% for p in professionals %}
          <tr>
            <td>{{ p.id }}</td>
            <td class="fw-semibold">{{ p.name }}</td>
            <td>{{ p.specialty or '-' }}</td>
            <td>
              <input type="number" class="form-control form-control-sm" 
                     name="order_priority_{{ p.id }}" 
                     value="{{ p.order_priority if p.order_priority is not none else 0 }}">
            </td>
          </tr>
          {% else %}
          <tr>
            <td colspan="4" class="text-center text-muted py-4">Aucun professionnel trouvé.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-end mt-3">
      <button type="submit" class="btn btn-primary">
        <i class="fas fa-save me-2"></i>Enregistrer le classement
      </button>
    </div>
  </form>
</div>
{% endblock %}
