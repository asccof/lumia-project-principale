{% extends "base.html" %}

{% block content %}
<div class="container" style="max-width: 980px; margin: 0 auto;">
  <h1>Mettre à jour vos photos</h1>

  <div class="grid" style="display:grid; grid-template-columns: repeat(3,1fr); gap: 16px;">
    <div>
      <label><strong>Photo (principale)</strong></label><br>
      <img id="pv_main"
           src="{{ professional.gallery_photo1_url
                  or professional.photo1_url
                  or professional.image_url
                  or url_for('profile_photo', professional_id=professional.id) }}"
           alt="Photo principale" style="max-width:100%; height:auto; border:1px solid #ddd; border-radius:8px;">
      <!-- IMPORTANT : input que lit app.py -->
      <input type="file" name="photo" accept="image/*" form="photosForm" style="margin-top:8px;">
    </div>

    <div>
      <label><strong>Photo 2</strong></label><br>
      <img id="pv2"
           src="{{ professional.gallery_photo2_url
                  or professional.photo2_url
                  or url_for('profile_photo', professional_id=professional.id) }}"
           alt="Photo 2" style="max-width:100%; height:auto; border:1px solid #ddd; border-radius:8px;">
      <input type="file" name="photo2" accept="image/*" form="photosForm" style="margin-top:8px;">
    </div>

    <div>
      <label><strong>Photo 3</strong></label><br>
      <img id="pv3"
           src="{{ professional.gallery_photo3_url
                  or professional.photo3_url
                  or url_for('profile_photo', professional_id=professional.id) }}"
           alt="Photo 3" style="max-width:100%; height:auto; border:1px solid #ddd; border-radius:8px;">
      <input type="file" name="photo3" accept="image/*" form="photosForm" style="margin-top:8px;">
    </div>
  </div>

  <form id="photosForm"
        method="post"
        enctype="multipart/form-data"
        action="{{ url_for('professional_upload_photo') }}"
        style="margin-top:20px;">

    <!-- Optionnel : input multiple pour glisser-déposer / sélection groupée -->
    <div>
      <label><strong>Sélection multiple (optionnel)</strong></label><br>
      <input type="file" name="photos" accept="image/*" multiple>
      <div style="font-size: 12px; color:#666; margin-top:6px;">
        Vous pouvez soit choisir 3 fichiers séparément (Photo principale / 2 / 3) soit en sélectionner jusqu'à 3 ici.
      </div>
    </div>

    <button type="submit" class="btn btn-primary" style="margin-top:16px;">
      Enregistrer
    </button>
  </form>
</div>
{% endblock %}
