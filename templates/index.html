{% extends "base.html" %}
{% block content %}

<div class="container py-5">
  <div class="text-center mb-5">
    <h1 class="fw-bold text-primary">Bienvenue sur Tighri</h1>
    <p class="lead text-muted">Trouvez et prenez rendez-vous avec les meilleurs psychologues, thérapeutes et coachs.</p>
  </div>

  <!-- Section professionnels en vedette -->
  <div class="row g-4">
    {% for professional in professionals %}
      <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="ratio ratio-1x1">
            <img
              src="{{ url_for('profile_photo', professional_id=professional.id) }}"
              class="card-img-top"
              alt="Photo de {{ professional.name|e }}"
              loading="lazy"
              decoding="async"
              referrerpolicy="no-referrer"
              onerror="this.onerror=null;this.src='https://placehold.co/600x600?text=Photo+indisponible';">
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ professional.name }}</h5>
            <p class="card-text text-muted mb-2">{{ professional.specialty or 'Spécialité non renseignée' }}</p>
            <p class="card-text small flex-grow-1">
              {% set d = professional.description or '' %}
              {{ d[:100] }}{% if d|length > 100 %}…{% endif %}
            </p>
            <a href="{{ url_for('professional_detail', professional_id=professional.id) }}"
               class="btn btn-primary mt-auto">Voir le profil</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% endblock %}
